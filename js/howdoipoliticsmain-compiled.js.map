{"version":3,"sources":["howdoipoliticsmain.js"],"names":["dataHolder","placeTypes","states","searchTweaks","DataHolder","data","districts","places","state","loaderRenderer","LoaderRenderer","resultsRenderer","ResultsRenderer","result","place","id","label","component1","component2","searchTweak","typeLabel","i","results","length","types","address_components","long_name","type_label","replace","toLowerCase","short_name","getSearchTweaks","push","addDistrictPlaces","processPlaces","value","name","district_number","formatted_address","indexOf","term","tweak","q","clear","renderHeader","encodeURIComponent","search_string","search_tweak","renderBoxes","getFacebookData","renderFacebookBox","renderGoogleBox","callback","FB","api","response","$","empty","append","src","alt","title","blurb","engagement","contact","error","about","description","general_info","social_sentence","slice","contact_address","phone","single_line_address","website","link","frameborder","scrolling","appendTo","document","ready","initFacebook","getLocation","ajaxSetup","cache","getScript","init","appId","version","removeAttr","navigator","geolocation","renderLocationLoader","getCurrentPosition","showPosition","showError","code","loadForm","text","type","placeholder","required","selected","each","key","change","trigger","on","e","preventDefault","clearResults","processForm","form","position","address","children","val","address2","ajax","url","then","status","coords","latitude","geometry","location","lat","longitude","lng","renderDataLoader","fields","state_legislative_districts","addPlaces","PERMISSION_DENIED","console","log","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR"],"mappings":"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","file":"howdoipoliticsmain-compiled.js","sourcesContent":["var dataHolder;\nvar placeTypes = {\n\t'neighborhood': {\n\t\t'type_label': 'Neighborhood',\n\t\t'address_components': [0, 3]\n\t},\n\t'locality': {\n\t\t'type_label': 'Town/City',\n\t\t'address_components': [0, 3]\n\t},\n\t'administrative_area_level_2': {\n\t\t'type_label': 'County',\n\t\t'address_components': [0, 1]\n\t},\n\t'political': {\n\t\t'type_label': 'Region',\n\t\t'address_components': [0, 1]\n\t},\n\t'administrative_area_level_1': {\n\t\t'type_label': 'State/Territory',\n\t\t'address_components': [0, 1]\n\t}\n}\nvar states = {\n\t'AL' : {\n\t\t'name': 'Alabama',\n\t\t'type': 'State'\n\t},\n\t'AK': {\n\t\t'name': 'Alaska',\n\t\t'type': 'State'\n\t},\n\t'AS': {\n\t\t'name': 'American Samoa',\n\t\t'type': 'Territory'\n\t},\n\t'AZ': {\n\t\t'name': 'Arizona',\n\t\t'type': 'State'\n\t},\n\t'AR': {\n\t\t'name': 'Arkansas',\n\t\t'type': 'State'\n\t},\n\t'CA': {\n\t\t'name': 'California',\n\t\t'type': 'State'\n\t},\n\t'CO': {\n\t\t'name': 'Colorado',\n\t\t'type': 'State'\n\t},\n\t'CT': {\n\t\t'name': 'Connecticut',\n\t\t'type': 'State'\n\t},\n\t'DE': {\n\t\t'name': 'Delaware',\n\t\t'type': 'State'\n\t},\n\t'DC': {\n\t\t'name': 'District Of Columbia',\n\t\t'type': 'District'\n\t},\n\t'FL': {\n\t\t'name': 'Florida',\n\t\t'type': 'State'\n\t},\n\t'GA': {\n\t\t'name': 'Georgia',\n\t\t'type': 'State'\n\t},\n\t'GU': {\n\t\t'name': 'Guam',\n\t\t'type': 'Territory'\n\t},\n\t'HI': {\n\t\t'name': 'Hawaii',\n\t\t'type': 'State'\n\t},\n\t'ID': {\n\t\t'name': 'Idaho',\n\t\t'type': 'State'\n\t},\n\t'IL': {\n\t\t'name': 'Illinois',\n\t\t'type': 'State'\n\t},\n\t'IN': {\n\t\t'name': 'Indiana',\n\t\t'type': 'State'\n\t},\n\t'IA': {\n\t\t'name': 'Iowa',\n\t\t'type': 'State'\n\t},\n\t'KS': {\n\t\t'name': 'Kansas',\n\t\t'type': 'State'\n\t},\n\t'KY': {\n\t\t'name': 'Kentucky',\n\t\t'type': 'State'\n\t},\n\t'LA': {\n\t\t'name': 'Louisiana',\n\t\t'type': 'State'\n\t},\n\t'ME': {\n\t\t'name': 'Maine',\n\t\t'type': 'State'\n\t},\n\t'MD': {\n\t\t'name': 'Maryland',\n\t\t'type': 'State'\n\t},\n\t'MA': {\n\t\t'name': 'Massachusetts',\n\t\t'type': 'State'\n\t},\n\t'MI': {\n\t\t'name': 'Michigan',\n\t\t'type': 'State'\n\t},\n\t'MN': {\n\t\t'name': 'Minnesota',\n\t\t'type': 'State'\n\t},\n\t'MS': {\n\t\t'name': 'Mississippi',\n\t\t'type': 'State'\n\t},\n\t'MO': {\n\t\t'name': 'Missouri',\n\t\t'type': 'State'\n\t},\n\t'MT': {\n\t\t'name': 'Montana',\n\t\t'type': 'State'\n\t},\n\t'NE': {\n\t\t'name': 'Nebraska',\n\t\t'type': 'State'\n\t},\n\t'NV': {\n\t\t'name': 'Nevada',\n\t\t'type': 'State'\n\t},\n\t'NH': {\n\t\t'name': 'New Hampshire',\n\t\t'type': 'State'\n\t},\n\t'NJ': {\n\t\t'name': 'New Jersey',\n\t\t'type': 'State'\n\t},\n\t'NM': {\n\t\t'name': 'New Mexico',\n\t\t'type': 'State'\n\t},\n\t'NY': {\n\t\t'name': 'New York',\n\t\t'type': 'State'\n\t},\n\t'NC': {\n\t\t'name': 'North Carolina',\n\t\t'type': 'State'\n\t},\n\t'ND': {\n\t\t'name': 'North Dakota',\n\t\t'type': 'State'\n\t},\n\t'MP': {\n\t\t'name': 'Northern Mariana Islands',\n\t\t'type': 'Commonwealth'\n\t},\n\t'OH': {\n\t\t'name': 'Ohio',\n\t\t'type': 'State'\n\t},\n\t'OK': {\n\t\t'name': 'Oklahoma',\n\t\t'type': 'State'\n\t},\n\t'OR': {\n\t\t'name': 'Oregon',\n\t\t'type': 'State'\n\t},\n\t'PA': {\n\t\t'name': 'Pennsylvania',\n\t\t'type': 'State'\n\t},\n\t'PR': {\n\t\t'name': 'Puerto Rico',\n\t\t'type': 'Commonwealth'\n\t},\n\t'RI': {\n\t\t'name': 'Rhode Island',\n\t\t'type': 'State'\n\t},\n\t'SC': {\n\t\t'name': 'South Carolina',\n\t\t'type': 'State'\n\t},\n\t'SD': {\n\t\t'name': 'South Dakota',\n\t\t'type': 'State'\n\t},\n\t'TN': {\n\t\t'name': 'Tennessee',\n\t\t'type': 'State'\n\t},\n\t'TX': {\n\t\t'name': 'Texas',\n\t\t'type': 'State'\n\t},\n\t'UT': {\n\t\t'name': 'Utah',\n\t\t'type': 'State'\n\t},\n\t'VT': {\n\t\t'name': 'Vermont',\n\t\t'type': 'State'\n\t},\n\t'VI': {\n\t\t'name': 'Virgin Islands',\n\t\t'type': 'Territory'\n\t},\n\t'VA': {\n\t\t'name': 'Virginia',\n\t\t'type': 'State'\n\t},\n\t'WA': {\n\t\t'name': 'Washington',\n\t\t'type': 'State'\n\t},\n\t'WV': {\n\t\t'name': 'West Virginia',\n\t\t'type': 'State'\n\t},\n\t'WI': {\n\t\t'name': 'Wisconsin',\n\t\t'type': 'State'\n\t},\n\t'WY': {\n\t\t'name': 'Wyoming',\n\t\t'type': 'State'\n\t}\n};\n\nvar searchTweaks = [\n\t{\n\t\t'term': ', VA,',\n\t\t'tweak': ' -west+virginia'\n\t},\n\t{\n\t\t'term': 'Virginia,',\n\t\t'tweak': ' -west+virginia'\n\t}\n];\n\nclass DataHolder {\n\tconstructor(data = [], districts = {}, states = {}, searchTweaks = []) {\n\t\tthis.places = []\n\t\tthis.state = ''\n\t\tthis.data = data\n\t\tthis.districts = districts\n\t\tthis.states = states\n\t\tthis.searchTweaks = searchTweaks\n\t\tthis.loaderRenderer = new LoaderRenderer()\n\t\tthis.resultsRenderer = new ResultsRenderer()\n\t}\n\n\taddPlaces() {\n\t\tvar result;\n\t\tvar place;\n\t\tvar id;\n\t\tvar label;\n\t\tvar component1;\n\t\tvar component2;\n\t\tvar searchTweak;\n\t\tvar typeLabel;\n\t\tvar state = '';\n\n\t\tfor (let i = 0; i < this.data.results.length; i++) {\n\t\t\tresult = this.data.results[i];\n\t\t\tif (placeTypes[result.types[0]]) {\n\t\t\t\tplace = {};\n\t\t\t\tcomponent1 = result.address_components[placeTypes[result.types[0]].address_components[0]].long_name;\n\t\t\t\tid = placeTypes[result.types[0]].type_label.replace(/ /g, '_').replace(/\\//g, '_' ).toLowerCase();\n\t\t\t\tif (result.types[0] === 'political') {\n\t\t\t\t\tid = `${id}_${i}`;\n\t\t\t\t}\n\n\t\t\t\tif ((result.types[0] === 'administrative_area_level_1') && (result.address_components[0].short_name in this.states)) {\n\t\t\t\t\ttypeLabel = states[result.address_components[0].short_name]['type'];\n\t\t\t\t} else {\n\t\t\t\t\ttypeLabel = placeTypes[result.types[0]].type_label;\n\t\t\t\t}\n\n\t\t\t\tthis.state = result.address_components[placeTypes[result.types[0]].address_components[1]].long_name;\n\n\t\t\t\tif ((result.types[0] === 'administrative_area_level_1') && \n\t\t\t\t(result.address_components[0].short_name in states) && \n\t\t\t\t(states[result.address_components[0].short_name]['type'] === 'State')) {\n\t\t\t\t\tcomponent2 = '+state';\n\t\t\t\t} else {\n\t\t\t\t\tcomponent2 = `,+${result.address_components[placeTypes[result.types[0]].address_components[1]].short_name}`;\n\t\t\t\t}\n\t\t\t\tsearchTweak = this.getSearchTweaks(result);\n\t\t\t\tplace = {\n\t\t\t\t\t'id': id,\n\t\t\t\t\t'type_label': typeLabel,\n\t\t\t\t\t'label': component1,\n\t\t\t\t\t'search_string': `${component1}${component2}`,\n\t\t\t\t\t'search_tweak': searchTweak\n\t\t\t\t};\n\t\t\t\tthis.places.push(place);\n\t\t\t}\n\t\t}\n\n\t\t(this.districts['senate'] && (state !== '')) ? this.addDistrictPlaces() : this.processPlaces();\n\t}\n\n\taddDistrictPlaces() {\n\t\tvar type_label;\n\t\tvar place;\n\n\t\tfor (let value in this.districts) {\n\t\t\ttype_label = value.name.replace(' ' + value.district_number, '').replace('District', 'Legislative District');\n\t\t\tplace = {\n\t\t\t\t'id': value.name.replace(/ /g, '_').replace(/\\//g, '_').toLowerCase(),\n\t\t\t\t'type_label': type_label,\n\t\t\t\t'label': value.district_number,\n\t\t\t\t'search_string': `${this.state}+${value.name}`\n\t\t\t};\n\t\t\tthis.places.push(place);\n\t\t}\n\n\t\tthis.processPlaces();\n\t}\n\n\tgetSearchTweaks(result = {}) {\n\t\tvar searchTweak;\n\t\tfor (let i = 0; i < this.searchTweaks.length; i++) {\n\t\t\tsearchTweak = this.searchTweaks[i];\n\t\t\tif (result.formatted_address.indexOf(searchTweak.term) > -1) {\n\t\t\t\treturn searchTweak.tweak;\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t}\n\n\tprocessPlaces() {\n\t\tvar place;\n\t\tvar q;\n\n\t\tthis.loaderRenderer.clear();\n\t\tthis.resultsRenderer.renderHeader();\n\t\tfor (let i = 0; i < this.places.length; i++) {\n\t\t\tplace = this.places[i];\n\t\t\tq = encodeURIComponent(`\"${place.search_string}\" democratic organization${place.search_tweak}`);\n\t\t\tthis.resultsRenderer.renderBoxes(place);\n\t\t\tthis.getFacebookData(place, q, this.resultsRenderer.renderFacebookBox);\n\t\t\tthis.resultsRenderer.renderGoogleBox(place, q);\n\t\t}\n\t}\n\n\tgetFacebookData(place = {}, q = '', callback = function(){}) {\n\t\tFB.api(\n\t\t\t`/search?q=${q}\n\t\t\t&type=page\n\t\t\t&fields=id,name,about,contact_address,description,engagement,general_info,link,phone,single_line_address,website\n\t\t\t&access_token=301393976977338|o7BuFDcKxXWAL3i9b3T_2jJgfT4`,\n\t\t\tfunction(response) {\n\t\t\t\tcallback(place, response);\n\t\t\t}\n\t\t);\n\t}\n}\n\nclass LoaderRenderer {\n\tconstructor() {}\n\n\tclear() {\n\t\t$('.loader').empty();\n\t}\n\n\trenderLocationLoader() {\n\t\tthis.clear();\n\t\t$('.loader').append(\n\t\t\t$('<img>', {\n\t\t\t\tsrc: '../images/loading_location.gif',\n\t\t\t\talt: 'Loading Location',\n\t\t\t\ttitle: 'Loading Location'\n\t\t\t})\n\t\t);\n\t}\n\n\trenderDataLoader() {\n\t\tthis.clear();\n\t\t$('.loader').append(\n\t\t\t$('<img>', {\n\t\t\t\tsrc: '../images/loading_data.gif',\n\t\t\t\talt: 'Loading Data',\n\t\t\t\ttitle: 'Loading Data'\n\t\t\t})\n\t\t);\n\t}\n}\n\nclass ResultsRenderer {\n\tconstructor() {}\n\n\tclear() {\n\t\t$('.results').empty();\n\t}\n\n\trenderHeader() {\n\t\t$('.results').append('<h3>We Found Some Democratic Organizations:</h3>');\n\t}\n\n\trenderBoxes(place) {\n\t\t$('.results').append(`<h4>In Your ${place.type_label} (${place.label})</h4>`);\n\t\t$('.results').append(`<table id=\"${place.id}_results_table\"></table>`);\n\t\t$(`#${place.id}_results_table`).append(`<tr id=\"${place.id}_results_row\"></tr>`);\n\t}\n\n\trenderFacebookBox(place = {}, response = {}) {\n\t\tvar blurb;\n\t\tvar engagement;\n\t\tvar contact;\n\n\t\t$(`#${place.id}_results_row`).append(`<td id=\"${place.id}_facebook_results\"></td>`);\n\t\t$(`#${place.id}_facebook_results`).append(`<ul id=\"${place.id}_facebook_results_list\"></ul>`);\n\t\tif (response && !response.error && response.data.length) {\n\t\t\tfor (let i = 0; i < response.data.length; i++) {\n\t\t\t\tblurb = '';\n\t\t\t\tif (response.data[i].about) {\n\t\t\t\t\tblurb = `<p>${response.data[i].about}</p>`;\n\t\t\t\t} else if (response.data[i].description) {\n\t\t\t\t\tblurb = `<p>${response.data[i].description}</p>`;\n\t\t\t\t} else if (response.data[i].general_info) {\n\t\t\t\t\tblurb = `<p>${response.data[i].general_info}</p>`;\n\t\t\t\t}\n\t\t\t\tengagement = '';\n\t\t\t\tif (response.data[i].engagement) {\n\t\t\t\t\tif (response.data[i].engagement.social_sentence === 'Be the first of your friends to like this.') {\n\t\t\t\t\t\tengagement = '<p>No one likes this Facebook page yet.</p>';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tengagement = `<p>${response.data[i].engagement.social_sentence.slice('.', -1)} Facebook page.</p>`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontact = '';\n\t\t\t\tif (\n\t\t\t\t\t(response.data[i].contact_address) ||\n\t\t\t\t\t(response.data[i].phone) ||\n\t\t\t\t\t(response.data[i].single_line_address) ||\n\t\t\t\t\t(response.data[i].website)\n\t\t\t\t) {\n\t\t\t\t\tcontact = '<p>';\n\t\t\t\t\tif (response.data[i].phone) {\n\t\t\t\t\t\tcontact = `${contact}<span><a href=\"tel:${response.data[i].phone}\">${response.data[i].phone}</span>`;\n\t\t\t\t\t}\n\t\t\t\t\tif (response.data[i].website) {\n\t\t\t\t\t\tcontact = `${contact}<span><a href=\"${response.data[i].website}\" title=\"Website\">Website</a></span>`;\n\t\t\t\t\t}\n\t\t\t\t\tif (response.data[i].contact_address) {\n\t\t\t\t\t\tcontact = `${contact}</p><p translate=\"no\">${response.data[i].contact_address}`;\n\t\t\t\t\t}\n\t\t\t\t\tif (response.data[i].single_line_address) {\n\t\t\t\t\t\tcontact = `${contact}</p><p translate=\"no\">${response.data[i].single_line_address}`;\n\t\t\t\t\t}\n\t\t\t\t\tcontact = `${contact}</p>`;\n\t\t\t\t}\n\t\t\t\t$(`#${place.id}_facebook_results_list`).append(`<li>\n\t\t\t\t\t<a href=\"${response.data[i].link}\" title=\"${response.data[i].name}\" target=\"_blank\">${response.data[i].name}</a><br>\n\t\t\t\t\t${blurb}\n\t\t\t\t\t${engagement}\n\t\t\t\t\t${contact}\n\t\t\t\t\t</li>`);\n\t\t\t}\n\t\t} else {\n\t\t\t$(`#${place.id}_facebook_results_list`).append('<p class=\"empty\">We got nothing from Facebook. Maybe you can start something?</p>')\n\t\t}\n\t}\n\n\trenderGoogleBox(place = {}, q = '') {\n\t\t$(`#${place.id}_results_row`).append(`<td id=\"${place.id}_google_results\"></td>`);\n\t\t$('<iframe>', {\n\t\t\tsrc: `../search.html?q=${q}`,\n\t\t\tid: `${place.id}_google_results_iframe`,\n\t\t\tframeborder: 0,\n\t\t\tscrolling: 'yes'\n\t\t}).appendTo(`#${place.id}_google_results`);\n\t}\n}\n\n$(document).ready(function() {\n\tloaderRenderer = new LoaderRenderer();\n\tinitFacebook();\n\tgetLocation();\n});\n\nfunction initFacebook() {\n\t$.ajaxSetup({ cache: true });\n\t$.getScript('https://connect.facebook.net/en_US/sdk.js', function(){\n\t\tFB.init({\n\t\t\tappId: '301393976977338',\n\t\t\tversion: 'v2.7'\n\t\t});     \n\t\t$('#loginbutton,#feedbutton').removeAttr('disabled');\n\t\t//FB.getLoginStatus(updateStatusCallback);\n\t});\n}\n\nfunction getLocation() {\n\tif (navigator.geolocation) {\n\t\tloaderRenderer.renderLocationLoader();\n\t\tnavigator.geolocation.getCurrentPosition(showPosition, showError);\n\t} else {\n\t\tshowError({\n\t\t\tcode: 'legacy'\n\t\t});\n\t\tloadForm();\n\t}\n}\n\nfunction loadForm() {\n\t$('.search').append(\n\t\t$('<h3/>').text('Contact Form'),\n\t\t$('<p/>').text('This is my form. Please fill it out. It\\'s awesome!'),\n\t\t$('<form/>', {\n\t\t\tid: 'location',\n\t\t\tname: 'location'\n\t\t}).append(\n\t\t\t$('<input/>', {\n\t\t\t\ttype: 'text',\n\t\t\t\tid: 'address1',\n\t\t\t\tname: 'address1',\n\t\t\t\tplaceholder: 'Street Address, Line 1',\n\t\t\t\trequired: true\n\t\t\t}),\n\t\t\t$('<input/>', {\n\t\t\t\ttype: 'text',\n\t\t\t\tid: 'address2',\n\t\t\t\tname: 'address2',\n\t\t\t\tplaceholder: 'Street Address, Line 2'\n\t\t\t}),\n\t\t\t$('<input/>', {\n\t\t\t\ttype: 'text',\n\t\t\t\tid: 'city',\n\t\t\t\tname: 'city',\n\t\t\t\tplaceholder: 'City/Town',\n\t\t\t\trequired: true\n\t\t\t}),\n\t\t\t$('<select/>', {\n\t\t\t\tid: 'state',\n\t\t\t\tname: 'state',\n\t\t\t\tplaceholder: 'State',\n\t\t\t\trequired: true\n\t\t\t}),\n\t\t\t$('<br/>'),\n\t\t\t$('<input/>', {\n\t\t\t\ttype: 'submit',\n\t\t\t\tid: 'submit',\n\t\t\t\tvalue: 'Submit'\n\t\t\t})\n\t\t)\n\t);\n\t$('#state').append(\n\t\t$('<option>', {\n\t\t\tvalue: '',\n\t\t\ttext: 'Select a state/territory',\n\t\t\tselected: true\n\t\t})\n\t);\n\t$.each(states, function(key, value) {\n\t\t$('#state').append(\n\t\t\t$('<option>', {\n\t\t\t\tvalue: this.key,\n\t\t\t\ttext: this.value.name\n\t\t\t})\n\t\t);\n\t});\n\t$('#state').change(function(){}).trigger('change');\n\t$('#location').on('submit', function(e) {\n\t\te.preventDefault();\n\t\tclearResults();\n\t\tprocessForm($(this));\n\t});\n}\n\nfunction processForm(form = {}) {\n\tvar position;\n\tvar address = form.children('input[name=\"address1\"]').val();\n\tvar address2 = form.children('input[name=\"address2\"]').val();\n\tif (address2 !== '') {\n\t\taddress = `${address},+${address2}`;\n\t}\n\taddress = `${address},+${form.children('input[name=\"city\"]').val()}`;\n\taddress = `${address},+${form.children('#state').val()}`;\n\taddress = address.replace(/ /g, '_').replace(/\\//g, '_').toLowerCase();\n\t$.ajax({\n\t\turl: `https://maps.googleapis.com/maps/api/geocode/json?address=${address}&key=AIzaSyBO4ShgmmgpAeZfCcu8YYTZZ04i0vxR4DA`\n\t}).then(function(data) {\n\t\tif (data.status === 'ZERO_RESULTS') {\n\t\t\tshowError('noformresults');\n\t\t\treturn;\n\t\t}\n\t\tposition = {\n\t\t\tcoords: {\n\t\t\t\tlatitude: data.results[0].geometry.location.lat,\n\t\t\t\tlongitude: data.results[0].geometry.location.lng\n\t\t\t}\n\t\t};\n\t\tshowPosition(position);\n\t});\n};\n\nfunction showPosition(position = {}) {\n\tvar districts = [];\n\n\tloaderRenderer.renderDataLoader();\n\t$.ajax({\n\t\turl: `https://api.geocod.io/v1/reverse?q=${position.coords.latitude},${position.coords.longitude}&fields=stateleg&api_key=cc8e7cb67fc566e98de4fd9b56dbb922788f52f`\n\t}).then(function(data) {\n\t\tif (data.results[0].fields.state_legislative_districts) {\n\t\t\tdistricts = data.results[0].fields.state_legislative_districts;\n\t\t}\n\t\t$.ajax({\n\t\t\turl: `https://maps.googleapis.com/maps/api/geocode/json?latlng=${position.coords.latitude},${position.coords.longitude}&key=AIzaSyBO4ShgmmgpAeZfCcu8YYTZZ04i0vxR4DA`\n\t\t}).then(function(data) {\n\t\t\tdataHolder = new DataHolder(data, districts, states, searchTweaks);\n\t\t\tdataHolder.addPlaces();\n\t\t});\n\t});\n}\n\nfunction showError(error = {}) {\n\tswitch(error.code) {\n\t\tcase error.PERMISSION_DENIED:\n\t\t\tconsole.log('User denied the request for Geolocation.');\n\t\t\tbreak;\n\t\tcase error.POSITION_UNAVAILABLE:\n\t\t\tconsole.log('Location information is unavailable.');\n\t\t\tbreak;\n\t\tcase error.TIMEOUT:\n\t\t\tconsole.log('The request to get user location timed out.');\n\t\t\tbreak;\n\t\tcase error.UNKNOWN_ERROR:\n\t\t\tconsole.log('An unknown error occurred.');\n\t\t\tbreak;\n\t\tcase 'legacy':\n\t\t\tconsole.log('Geolocation is not supported by this browser.');\n\t\t\tbreak;\n\t\tcase 'noformresults':\n\t\t\tconsole.log('Geolocation is not supported by this browser.');\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log('Yo dawg I heard you like errors, so I put errors in your errors so you can error while you error.');\n\t\t\t\tbreak;\n\t}\n}"]}