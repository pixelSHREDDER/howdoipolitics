{"version":3,"sources":["howdoipoliticsmain.js"],"names":["dataHolder","formRenderer","loaderRenderer","placeTypes","states","searchTweaks","DataHolder","places","state","data","districts","LoaderRenderer","resultsRenderer","ResultsRenderer","form","position","processFallbackForm","showPosition","address","children","val","address2","replace","toLowerCase","$","ajax","url","then","status","showError","coords","latitude","results","geometry","location","lat","longitude","lng","result","place","id","label","component1","component2","searchTweak","typeLabel","i","length","types","address_components","long_name","type_label","short_name","getSearchTweaks","push","addDistrictPlaces","processPlaces","value","name","district_number","formatted_address","indexOf","term","tweak","q","clear","renderHeader","encodeURIComponent","search_string","search_tweak","renderBoxes","getFacebookData","renderFacebookBox","renderGoogleBox","callback","FB","api","response","FormRenderer","append","text","type","placeholder","required","renderFallbackFields","on","e","preventDefault","insertBefore","selected","each","key","change","trigger","empty","src","alt","title","blurb","engagement","contact","error","about","description","general_info","social_sentence","slice","contact_address","phone","single_line_address","website","link","frameborder","scrolling","appendTo","document","ready","initFacebook","getLocation","ajaxSetup","cache","getScript","init","appId","version","removeAttr","navigator","geolocation","renderLocationLoader","getCurrentPosition","renderForm","processForm","code","renderDataLoader","fields","state_legislative_districts","addPlaces","PERMISSION_DENIED","console","log","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR"],"mappings":"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","file":"howdoipoliticsmain-compiled.js","sourcesContent":["var dataHolder;\nvar formRenderer;\nvar loaderRenderer;\nvar placeTypes = {\n\t'neighborhood': {\n\t\t'type_label': 'Neighborhood',\n\t\t'address_components': [0, 3]\n\t},\n\t'locality': {\n\t\t'type_label': 'Town/City',\n\t\t'address_components': [0, 3]\n\t},\n\t'administrative_area_level_2': {\n\t\t'type_label': 'County',\n\t\t'address_components': [0, 1]\n\t},\n\t'political': {\n\t\t'type_label': 'Region',\n\t\t'address_components': [0, 1]\n\t},\n\t'administrative_area_level_1': {\n\t\t'type_label': 'State/Territory',\n\t\t'address_components': [0, 1]\n\t}\n}\nvar states = {\n\t'AL' : {\n\t\t'name': 'Alabama',\n\t\t'type': 'State'\n\t},\n\t'AK': {\n\t\t'name': 'Alaska',\n\t\t'type': 'State'\n\t},\n\t'AS': {\n\t\t'name': 'American Samoa',\n\t\t'type': 'Territory'\n\t},\n\t'AZ': {\n\t\t'name': 'Arizona',\n\t\t'type': 'State'\n\t},\n\t'AR': {\n\t\t'name': 'Arkansas',\n\t\t'type': 'State'\n\t},\n\t'CA': {\n\t\t'name': 'California',\n\t\t'type': 'State'\n\t},\n\t'CO': {\n\t\t'name': 'Colorado',\n\t\t'type': 'State'\n\t},\n\t'CT': {\n\t\t'name': 'Connecticut',\n\t\t'type': 'State'\n\t},\n\t'DE': {\n\t\t'name': 'Delaware',\n\t\t'type': 'State'\n\t},\n\t'DC': {\n\t\t'name': 'District Of Columbia',\n\t\t'type': 'District'\n\t},\n\t'FL': {\n\t\t'name': 'Florida',\n\t\t'type': 'State'\n\t},\n\t'GA': {\n\t\t'name': 'Georgia',\n\t\t'type': 'State'\n\t},\n\t'GU': {\n\t\t'name': 'Guam',\n\t\t'type': 'Territory'\n\t},\n\t'HI': {\n\t\t'name': 'Hawaii',\n\t\t'type': 'State'\n\t},\n\t'ID': {\n\t\t'name': 'Idaho',\n\t\t'type': 'State'\n\t},\n\t'IL': {\n\t\t'name': 'Illinois',\n\t\t'type': 'State'\n\t},\n\t'IN': {\n\t\t'name': 'Indiana',\n\t\t'type': 'State'\n\t},\n\t'IA': {\n\t\t'name': 'Iowa',\n\t\t'type': 'State'\n\t},\n\t'KS': {\n\t\t'name': 'Kansas',\n\t\t'type': 'State'\n\t},\n\t'KY': {\n\t\t'name': 'Kentucky',\n\t\t'type': 'State'\n\t},\n\t'LA': {\n\t\t'name': 'Louisiana',\n\t\t'type': 'State'\n\t},\n\t'ME': {\n\t\t'name': 'Maine',\n\t\t'type': 'State'\n\t},\n\t'MD': {\n\t\t'name': 'Maryland',\n\t\t'type': 'State'\n\t},\n\t'MA': {\n\t\t'name': 'Massachusetts',\n\t\t'type': 'State'\n\t},\n\t'MI': {\n\t\t'name': 'Michigan',\n\t\t'type': 'State'\n\t},\n\t'MN': {\n\t\t'name': 'Minnesota',\n\t\t'type': 'State'\n\t},\n\t'MS': {\n\t\t'name': 'Mississippi',\n\t\t'type': 'State'\n\t},\n\t'MO': {\n\t\t'name': 'Missouri',\n\t\t'type': 'State'\n\t},\n\t'MT': {\n\t\t'name': 'Montana',\n\t\t'type': 'State'\n\t},\n\t'NE': {\n\t\t'name': 'Nebraska',\n\t\t'type': 'State'\n\t},\n\t'NV': {\n\t\t'name': 'Nevada',\n\t\t'type': 'State'\n\t},\n\t'NH': {\n\t\t'name': 'New Hampshire',\n\t\t'type': 'State'\n\t},\n\t'NJ': {\n\t\t'name': 'New Jersey',\n\t\t'type': 'State'\n\t},\n\t'NM': {\n\t\t'name': 'New Mexico',\n\t\t'type': 'State'\n\t},\n\t'NY': {\n\t\t'name': 'New York',\n\t\t'type': 'State'\n\t},\n\t'NC': {\n\t\t'name': 'North Carolina',\n\t\t'type': 'State'\n\t},\n\t'ND': {\n\t\t'name': 'North Dakota',\n\t\t'type': 'State'\n\t},\n\t'MP': {\n\t\t'name': 'Northern Mariana Islands',\n\t\t'type': 'Commonwealth'\n\t},\n\t'OH': {\n\t\t'name': 'Ohio',\n\t\t'type': 'State'\n\t},\n\t'OK': {\n\t\t'name': 'Oklahoma',\n\t\t'type': 'State'\n\t},\n\t'OR': {\n\t\t'name': 'Oregon',\n\t\t'type': 'State'\n\t},\n\t'PA': {\n\t\t'name': 'Pennsylvania',\n\t\t'type': 'State'\n\t},\n\t'PR': {\n\t\t'name': 'Puerto Rico',\n\t\t'type': 'Commonwealth'\n\t},\n\t'RI': {\n\t\t'name': 'Rhode Island',\n\t\t'type': 'State'\n\t},\n\t'SC': {\n\t\t'name': 'South Carolina',\n\t\t'type': 'State'\n\t},\n\t'SD': {\n\t\t'name': 'South Dakota',\n\t\t'type': 'State'\n\t},\n\t'TN': {\n\t\t'name': 'Tennessee',\n\t\t'type': 'State'\n\t},\n\t'TX': {\n\t\t'name': 'Texas',\n\t\t'type': 'State'\n\t},\n\t'UT': {\n\t\t'name': 'Utah',\n\t\t'type': 'State'\n\t},\n\t'VT': {\n\t\t'name': 'Vermont',\n\t\t'type': 'State'\n\t},\n\t'VI': {\n\t\t'name': 'Virgin Islands',\n\t\t'type': 'Territory'\n\t},\n\t'VA': {\n\t\t'name': 'Virginia',\n\t\t'type': 'State'\n\t},\n\t'WA': {\n\t\t'name': 'Washington',\n\t\t'type': 'State'\n\t},\n\t'WV': {\n\t\t'name': 'West Virginia',\n\t\t'type': 'State'\n\t},\n\t'WI': {\n\t\t'name': 'Wisconsin',\n\t\t'type': 'State'\n\t},\n\t'WY': {\n\t\t'name': 'Wyoming',\n\t\t'type': 'State'\n\t}\n};\n\nvar searchTweaks = [\n\t{\n\t\t'term': ', VA,',\n\t\t'tweak': ' -west+virginia'\n\t},\n\t{\n\t\t'term': 'Virginia,',\n\t\t'tweak': ' -west+virginia'\n\t}\n];\n\nclass DataHolder {\n\tconstructor(states = {}, searchTweaks = []) {\n\t\tthis.places = []\n\t\tthis.state = ''\n\t\tthis.data = []\n\t\tthis.districts = {}\n\t\tthis.states = states\n\t\tthis.searchTweaks = searchTweaks\n\t\tthis.loaderRenderer = new LoaderRenderer()\n\t\tthis.resultsRenderer = new ResultsRenderer()\n\t}\n\n\tprocessForm(form = {}, position = null) {\n\t\tif (!position) {\n\t\t\tprocessFallbackForm(form);\n\t\t} else {\n\t\t\tshowPosition(position);\n\t\t}\n\t}\n\n\tprocessFallbackForm(form = {}) {\n\t\tvar position;\n\t\tvar address = form.children('input[name=\"address1\"]').val();\n\t\tvar address2 = form.children('input[name=\"address2\"]').val();\n\n\t\tif (address2 !== '') {\n\t\t\taddress = `${address},+${address2}`;\n\t\t}\n\t\taddress = `${address},+${form.children('input[name=\"city\"]').val()}`;\n\t\taddress = `${address},+${form.children('#state').val()}`;\n\t\taddress = address.replace(/ /g, '_').replace(/\\//g, '_').toLowerCase();\n\t\t$.ajax({\n\t\t\turl: `https://maps.googleapis.com/maps/api/geocode/json?address=${address}&key=AIzaSyBO4ShgmmgpAeZfCcu8YYTZZ04i0vxR4DA`\n\t\t}).then(function(data) {\n\t\t\tif (data.status === 'ZERO_RESULTS') {\n\t\t\t\tshowError('noformresults');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tposition = {\n\t\t\t\tcoords: {\n\t\t\t\t\tlatitude: data.results[0].geometry.location.lat,\n\t\t\t\t\tlongitude: data.results[0].geometry.location.lng\n\t\t\t\t}\n\t\t\t};\n\t\t\tshowPosition(position);\n\t\t});\n\t}\n\n\taddPlaces() {\n\t\tvar result;\n\t\tvar place;\n\t\tvar id;\n\t\tvar label;\n\t\tvar component1;\n\t\tvar component2;\n\t\tvar searchTweak;\n\t\tvar typeLabel;\n\t\tvar state = '';\n\n\t\tfor (let i = 0; i < this.data.results.length; i++) {\n\t\t\tresult = this.data.results[i];\n\t\t\tif (placeTypes[result.types[0]]) {\n\t\t\t\tplace = {};\n\t\t\t\tcomponent1 = result.address_components[placeTypes[result.types[0]].address_components[0]].long_name;\n\t\t\t\tid = placeTypes[result.types[0]].type_label.replace(/ /g, '_').replace(/\\//g, '_' ).toLowerCase();\n\t\t\t\tif (result.types[0] === 'political') {\n\t\t\t\t\tid = `${id}_${i}`;\n\t\t\t\t}\n\n\t\t\t\tif ((result.types[0] === 'administrative_area_level_1') && (result.address_components[0].short_name in this.states)) {\n\t\t\t\t\ttypeLabel = states[result.address_components[0].short_name]['type'];\n\t\t\t\t} else {\n\t\t\t\t\ttypeLabel = placeTypes[result.types[0]].type_label;\n\t\t\t\t}\n\n\t\t\t\tthis.state = result.address_components[placeTypes[result.types[0]].address_components[1]].long_name;\n\n\t\t\t\tif ((result.types[0] === 'administrative_area_level_1') && \n\t\t\t\t(result.address_components[0].short_name in states) && \n\t\t\t\t(states[result.address_components[0].short_name]['type'] === 'State')) {\n\t\t\t\t\tcomponent2 = '+state';\n\t\t\t\t} else {\n\t\t\t\t\tcomponent2 = `,+${result.address_components[placeTypes[result.types[0]].address_components[1]].short_name}`;\n\t\t\t\t}\n\t\t\t\tsearchTweak = this.getSearchTweaks(result);\n\t\t\t\tplace = {\n\t\t\t\t\t'id': id,\n\t\t\t\t\t'type_label': typeLabel,\n\t\t\t\t\t'label': component1,\n\t\t\t\t\t'search_string': `${component1}${component2}`,\n\t\t\t\t\t'search_tweak': searchTweak\n\t\t\t\t};\n\t\t\t\tthis.places.push(place);\n\t\t\t}\n\t\t}\n\n\t\t(this.districts['senate'] && (state !== '')) ? this.addDistrictPlaces() : this.processPlaces();\n\t}\n\n\taddDistrictPlaces() {\n\t\tvar type_label;\n\t\tvar place;\n\n\t\tfor (let value in this.districts) {\n\t\t\ttype_label = value.name.replace(' ' + value.district_number, '').replace('District', 'Legislative District');\n\t\t\tplace = {\n\t\t\t\t'id': value.name.replace(/ /g, '_').replace(/\\//g, '_').toLowerCase(),\n\t\t\t\t'type_label': type_label,\n\t\t\t\t'label': value.district_number,\n\t\t\t\t'search_string': `${this.state}+${value.name}`\n\t\t\t};\n\t\t\tthis.places.push(place);\n\t\t}\n\n\t\tthis.processPlaces();\n\t}\n\n\tgetSearchTweaks(result = {}) {\n\t\tvar searchTweak;\n\t\tfor (let i = 0; i < this.searchTweaks.length; i++) {\n\t\t\tsearchTweak = this.searchTweaks[i];\n\t\t\tif (result.formatted_address.indexOf(searchTweak.term) > -1) {\n\t\t\t\treturn searchTweak.tweak;\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t}\n\n\tprocessPlaces() {\n\t\tvar place;\n\t\tvar q;\n\n\t\tthis.loaderRenderer.clear();\n\t\tthis.resultsRenderer.renderHeader();\n\t\tfor (let i = 0; i < this.places.length; i++) {\n\t\t\tplace = this.places[i];\n\t\t\tq = encodeURIComponent(`\"${place.search_string}\" democratic organization${place.search_tweak}`);\n\t\t\tthis.resultsRenderer.renderBoxes(place);\n\t\t\tthis.getFacebookData(place, q, this.resultsRenderer.renderFacebookBox);\n\t\t\tthis.resultsRenderer.renderGoogleBox(place, q);\n\t\t}\n\t}\n\n\tgetFacebookData(place = {}, q = '', callback = function(){}) {\n\t\tFB.api(\n\t\t\t`/search?q=${q}\n\t\t\t&type=page\n\t\t\t&fields=id,name,about,contact_address,description,engagement,general_info,link,phone,single_line_address,website\n\t\t\t&access_token=301393976977338|o7BuFDcKxXWAL3i9b3T_2jJgfT4`,\n\t\t\tfunction(response) {\n\t\t\t\tcallback(place, response);\n\t\t\t}\n\t\t);\n\t}\n}\n\nclass FormRenderer {\n\tclear() {\n\t\n\t}\n\n\trenderForm({callback = function(){}, position = null, states = {}}) {\n\t\t$('.search').append(\n\t\t\t$('<h3/>').text('Contact Form'),\n\t\t\t$('<p/>').text('This is my form. Please fill it out. It\\'s awesome!'),\n\t\t\t$('<form/>', {\n\t\t\t\tid: 'search',\n\t\t\t\tname: 'search'\n\t\t\t}).append(\n\t\t\t\t$('<input/>', {\n\t\t\t\t\ttype: 'text',\n\t\t\t\t\tid: 'address1',\n\t\t\t\t\tname: 'address1',\n\t\t\t\t\tplaceholder: 'Street Address, Line 1',\n\t\t\t\t\trequired: true\n\t\t\t\t}),\n\t\t\t\t$('<br/>'),\n\t\t\t\t$('<input/>', {\n\t\t\t\t\ttype: 'submit',\n\t\t\t\t\tid: 'submit',\n\t\t\t\t\tvalue: 'Submit'\n\t\t\t\t})\n\t\t\t)\n\t\t);\n\n\t\tif (!position) { this.renderFallbackFields(states) };\n\n\t\t$('#search').on('submit', { callback : callback, position : position }, function(e) {\n\t\t\te.preventDefault();\n\t\t\te.data.callback($(this), e.data.position);\n\t\t});\n\t}\n\n\trenderFallbackFields(states) {\n\t\t$('<input/>', {\n\t\t\ttype: 'text',\n\t\t\tid: 'address1',\n\t\t\tname: 'address1',\n\t\t\tplaceholder: 'Street Address, Line 1',\n\t\t\trequired: true\n\t\t}).insertBefore('#submit');\n\n\t\t$('<input/>', {\n\t\t\ttype: 'text',\n\t\t\tid: 'address2',\n\t\t\tname: 'address2',\n\t\t\tplaceholder: 'Street Address, Line 2'\n\t\t}).insertBefore('#submit');\n\n\t\t$('<input/>', {\n\t\t\ttype: 'text',\n\t\t\tid: 'city',\n\t\t\tname: 'city',\n\t\t\tplaceholder: 'City/Town',\n\t\t\trequired: true\n\t\t}).insertBefore('#submit');\n\n\t\t$('<select/>', {\n\t\t\tid: 'state',\n\t\t\tname: 'state',\n\t\t\tplaceholder: 'State',\n\t\t\trequired: true\n\t\t}).insertBefore('#submit');\n\n\t\t$('#state').append(\n\t\t\t$('<option>', {\n\t\t\t\tvalue: '',\n\t\t\t\ttext: 'Select a state/territory',\n\t\t\t\tselected: true\n\t\t\t})\n\t\t);\n\t\t$.each(states, function(key, value) {\n\t\t\t$('#state').append(\n\t\t\t\t$('<option>', {\n\t\t\t\t\tvalue: key,\n\t\t\t\t\ttext: value.name\n\t\t\t\t})\n\t\t\t);\n\t\t});\n\t\t$('#state').change(function(){}).trigger('change');\n\t}\n}\n\nclass LoaderRenderer {\n\tclear() {\n\t\t$('.loader').empty();\n\t}\n\n\trenderLocationLoader() {\n\t\tthis.clear();\n\t\t$('.loader').append(\n\t\t\t$('<img>', {\n\t\t\t\tsrc: '../images/loading_location.gif',\n\t\t\t\talt: 'Loading Location',\n\t\t\t\ttitle: 'Loading Location'\n\t\t\t})\n\t\t);\n\t}\n\n\trenderDataLoader() {\n\t\tthis.clear();\n\t\t$('.loader').append(\n\t\t\t$('<img>', {\n\t\t\t\tsrc: '../images/loading_data.gif',\n\t\t\t\talt: 'Loading Data',\n\t\t\t\ttitle: 'Loading Data'\n\t\t\t})\n\t\t);\n\t}\n}\n\nclass ResultsRenderer {\n\tclear() {\n\t\t$('.results').empty();\n\t}\n\n\trenderHeader() {\n\t\t$('.results').append('<h3>We Found Some Democratic Organizations:</h3>');\n\t}\n\n\trenderBoxes(place) {\n\t\t$('.results').append(`<h4>In Your ${place.type_label} (${place.label})</h4>`);\n\t\t$('.results').append(`<table id=\"${place.id}_results_table\"></table>`);\n\t\t$(`#${place.id}_results_table`).append(`<tr id=\"${place.id}_results_row\"></tr>`);\n\t}\n\n\trenderFacebookBox(place = {}, response = {}) {\n\t\tvar blurb;\n\t\tvar engagement;\n\t\tvar contact;\n\n\t\t$(`#${place.id}_results_row`).append(`<td id=\"${place.id}_facebook_results\"></td>`);\n\t\t$(`#${place.id}_facebook_results`).append(`<ul id=\"${place.id}_facebook_results_list\"></ul>`);\n\t\tif (response && !response.error && response.data.length) {\n\t\t\tfor (let i = 0; i < response.data.length; i++) {\n\t\t\t\tblurb = '';\n\t\t\t\tif (response.data[i].about) {\n\t\t\t\t\tblurb = `<p>${response.data[i].about}</p>`;\n\t\t\t\t} else if (response.data[i].description) {\n\t\t\t\t\tblurb = `<p>${response.data[i].description}</p>`;\n\t\t\t\t} else if (response.data[i].general_info) {\n\t\t\t\t\tblurb = `<p>${response.data[i].general_info}</p>`;\n\t\t\t\t}\n\t\t\t\tengagement = '';\n\t\t\t\tif (response.data[i].engagement) {\n\t\t\t\t\tif (response.data[i].engagement.social_sentence === 'Be the first of your friends to like this.') {\n\t\t\t\t\t\tengagement = '<p>No one likes this Facebook page yet.</p>';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tengagement = `<p>${response.data[i].engagement.social_sentence.slice('.', -1)} Facebook page.</p>`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontact = '';\n\t\t\t\tif (\n\t\t\t\t\t(response.data[i].contact_address) ||\n\t\t\t\t\t(response.data[i].phone) ||\n\t\t\t\t\t(response.data[i].single_line_address) ||\n\t\t\t\t\t(response.data[i].website)\n\t\t\t\t) {\n\t\t\t\t\tcontact = '<p>';\n\t\t\t\t\tif (response.data[i].phone) {\n\t\t\t\t\t\tcontact = `${contact}<span><a href=\"tel:${response.data[i].phone}\">${response.data[i].phone}</span>`;\n\t\t\t\t\t}\n\t\t\t\t\tif (response.data[i].website) {\n\t\t\t\t\t\tcontact = `${contact}<span><a href=\"${response.data[i].website}\" title=\"Website\">Website</a></span>`;\n\t\t\t\t\t}\n\t\t\t\t\tif (response.data[i].contact_address) {\n\t\t\t\t\t\tcontact = `${contact}</p><p translate=\"no\">${response.data[i].contact_address}`;\n\t\t\t\t\t}\n\t\t\t\t\tif (response.data[i].single_line_address) {\n\t\t\t\t\t\tcontact = `${contact}</p><p translate=\"no\">${response.data[i].single_line_address}`;\n\t\t\t\t\t}\n\t\t\t\t\tcontact = `${contact}</p>`;\n\t\t\t\t}\n\t\t\t\t$(`#${place.id}_facebook_results_list`).append(`<li>\n\t\t\t\t\t<a href=\"${response.data[i].link}\" title=\"${response.data[i].name}\" target=\"_blank\">${response.data[i].name}</a><br>\n\t\t\t\t\t${blurb}\n\t\t\t\t\t${engagement}\n\t\t\t\t\t${contact}\n\t\t\t\t\t</li>`);\n\t\t\t}\n\t\t} else {\n\t\t\t$(`#${place.id}_facebook_results_list`).append('<p class=\"empty\">We got nothing from Facebook. Maybe you can start something?</p>')\n\t\t}\n\t}\n\n\trenderGoogleBox(place = {}, q = '') {\n\t\t$(`#${place.id}_results_row`).append(`<td id=\"${place.id}_google_results\"></td>`);\n\t\t$('<iframe>', {\n\t\t\tsrc: `../search.html?q=${q}`,\n\t\t\tid: `${place.id}_google_results_iframe`,\n\t\t\tframeborder: 0,\n\t\t\tscrolling: 'yes'\n\t\t}).appendTo(`#${place.id}_google_results`);\n\t}\n}\n\n$(document).ready(function() {\n\tdataHolder = new DataHolder(states = states, searchTweaks = searchTweaks);\n\tformRenderer = new FormRenderer();\n\tloaderRenderer = new LoaderRenderer();\n\tinitFacebook();\n\tgetLocation();\n});\n\nfunction initFacebook() {\n\t$.ajaxSetup({ cache: true });\n\t$.getScript('https://connect.facebook.net/en_US/sdk.js', function(){\n\t\tFB.init({\n\t\t\tappId: '301393976977338',\n\t\t\tversion: 'v2.7'\n\t\t});     \n\t\t$('#loginbutton,#feedbutton').removeAttr('disabled');\n\t\t//FB.getLoginStatus(updateStatusCallback);\n\t});\n}\n\nfunction getLocation() {\n\tif (navigator.geolocation) {\n\t\tloaderRenderer.renderLocationLoader();\n\t\t//navigator.geolocation.getCurrentPosition(showPosition, showError);\n\t\tnavigator.geolocation.getCurrentPosition(function(position) {\n\t\t\tformRenderer.renderForm({\n\t\t\t\tcallback: dataHolder.processForm,\n\t\t\t\tposition: position\n\t\t\t});\n\t\t}, showError);\n\t} else {\n\t\tshowError({\n\t\t\tcode: 'legacy'\n\t\t});\n\t\tformRenderer.renderForm({\n\t\t\tcallback: dataHolder.processForm,\n\t\t\tstates: dataHolder.states\n\t\t});\n\t}\n}\n\nfunction showPosition(position = {}) {\n\tloaderRenderer.renderDataLoader();\n\t$.ajax({\n\t\turl: `https://api.geocod.io/v1/reverse?q=${position.coords.latitude},${position.coords.longitude}&fields=stateleg&api_key=cc8e7cb67fc566e98de4fd9b56dbb922788f52f`\n\t}).then(function(data) {\n\t\tvar districts;\n\n\t\tif (data.results[0].fields.state_legislative_districts) {\n\t\t\tdistricts = data.results[0].fields.state_legislative_districts;\n\t\t\tdataHolder.districts = districts;\n\t\t}\n\t\t$.ajax({\n\t\t\turl: `https://maps.googleapis.com/maps/api/geocode/json?latlng=${position.coords.latitude},${position.coords.longitude}&key=AIzaSyBO4ShgmmgpAeZfCcu8YYTZZ04i0vxR4DA`\n\t\t}).then(function(data) {\n\t\t\tdataHolder.data = data;\n\t\t\tdataHolder.addPlaces();\n\t\t});\n\t});\n}\n\nfunction showError(error = {}) {\n\tswitch(error.code) {\n\t\tcase error.PERMISSION_DENIED:\n\t\t\tconsole.log('User denied the request for Geolocation.');\n\t\t\tbreak;\n\t\tcase error.POSITION_UNAVAILABLE:\n\t\t\tconsole.log('Location information is unavailable.');\n\t\t\tbreak;\n\t\tcase error.TIMEOUT:\n\t\t\tconsole.log('The request to get user location timed out.');\n\t\t\tbreak;\n\t\tcase error.UNKNOWN_ERROR:\n\t\t\tconsole.log('An unknown error occurred.');\n\t\t\tbreak;\n\t\tcase 'legacy':\n\t\t\tconsole.log('Geolocation is not supported by this browser.');\n\t\t\tbreak;\n\t\tcase 'noformresults':\n\t\t\tconsole.log('Geolocation is not supported by this browser.');\n\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log('Yo dawg I heard you like errors, so I put errors in your errors so you can error while you error.');\n\t\t\t\tbreak;\n\t}\n}"]}