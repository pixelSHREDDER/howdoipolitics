{"version":3,"sources":["howdoipoliticsmain.js"],"names":["dataHandler","placeTypes","states","searchTweaks","DataHandler","places","state","data","districts","errorHandler","ErrorHandler","formRenderer","FormRenderer","loaderRenderer","LoaderRenderer","resultsRenderer","ResultsRenderer","$","ajaxSetup","cache","getScript","FB","init","appId","version","removeAttr","self","renderLocationLoader","clear","showError","code","renderForm","parent","$form","position","processFallbackForm","showPosition","address","find","val","address2","replace","toLowerCase","ajax","url","then","status","coords","latitude","results","geometry","location","lat","longitude","lng","renderDataLoader","fields","state_legislative_districts","addPlaces","result","type","types","reduce","acc","cur","i","placeType","address_components","length","key","place","id","label","component1","component2","searchTweak","typeLabel","getPlaceType","long_name","type_label","short_name","getSearchTweaks","push","addDistrictPlaces","processPlaces","district","name","district_number","formatted_address","indexOf","term","tweak","q","gQuery","or","encodeURIComponent","renderResultsContainer","search_string","search_tweak","getFacebookData","renderFacebookBox","console","log","renderGoogleBox","callback","api","response","initFacebook","getLocation","error","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","append","text","value","required","renderFallbackFields","on","e","preventDefault","processForm","insertBefore","placeholder","selected","each","change","trigger","empty","src","alt","title","blurb","engagement","contact","about","description","general_info","social_sentence","slice","contact_address","phone","single_line_address","website","link","frameborder","scrolling","appendTo","document","ready"],"mappings":"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","file":"howdoipoliticsmain-compiled.js","sourcesContent":["var dataHandler;\nvar placeTypes = {\n\t'neighborhood': {\n\t\t'type_label': 'Neighborhood',\n\t\t'address_components': [0, 3]\n\t},\n\t'locality': {\n\t\t'type_label': 'Town/City',\n\t\t'address_components': [0, 3]\n\t},\n\t'administrative_area_level_2': {\n\t\t'type_label': 'County',\n\t\t'address_components': [0, 1]\n\t},\n\t'administrative_area_level_1': {\n\t\t'type_label': 'State/Territory',\n\t\t'address_components': [0, 1]\n\t},\n\t'country': {\n\t\t'type_label': 'Country',\n\t\t'address_components': [0]\n\t},\n\t'political': {\n\t\t'type_label': 'Region',\n\t\t'address_components': [0, 1]\n\t}\n}\nvar states = {\n\t'AL' : {\n\t\t'name': 'Alabama',\n\t\t'type': 'State'\n\t},\n\t'AK': {\n\t\t'name': 'Alaska',\n\t\t'type': 'State'\n\t},\n\t'AS': {\n\t\t'name': 'American Samoa',\n\t\t'type': 'Territory'\n\t},\n\t'AZ': {\n\t\t'name': 'Arizona',\n\t\t'type': 'State'\n\t},\n\t'AR': {\n\t\t'name': 'Arkansas',\n\t\t'type': 'State'\n\t},\n\t'CA': {\n\t\t'name': 'California',\n\t\t'type': 'State'\n\t},\n\t'CO': {\n\t\t'name': 'Colorado',\n\t\t'type': 'State'\n\t},\n\t'CT': {\n\t\t'name': 'Connecticut',\n\t\t'type': 'State'\n\t},\n\t'DE': {\n\t\t'name': 'Delaware',\n\t\t'type': 'State'\n\t},\n\t'DC': {\n\t\t'name': 'District Of Columbia',\n\t\t'type': 'District'\n\t},\n\t'FL': {\n\t\t'name': 'Florida',\n\t\t'type': 'State'\n\t},\n\t'GA': {\n\t\t'name': 'Georgia',\n\t\t'type': 'State'\n\t},\n\t'GU': {\n\t\t'name': 'Guam',\n\t\t'type': 'Territory'\n\t},\n\t'HI': {\n\t\t'name': 'Hawaii',\n\t\t'type': 'State'\n\t},\n\t'ID': {\n\t\t'name': 'Idaho',\n\t\t'type': 'State'\n\t},\n\t'IL': {\n\t\t'name': 'Illinois',\n\t\t'type': 'State'\n\t},\n\t'IN': {\n\t\t'name': 'Indiana',\n\t\t'type': 'State'\n\t},\n\t'IA': {\n\t\t'name': 'Iowa',\n\t\t'type': 'State'\n\t},\n\t'KS': {\n\t\t'name': 'Kansas',\n\t\t'type': 'State'\n\t},\n\t'KY': {\n\t\t'name': 'Kentucky',\n\t\t'type': 'State'\n\t},\n\t'LA': {\n\t\t'name': 'Louisiana',\n\t\t'type': 'State'\n\t},\n\t'ME': {\n\t\t'name': 'Maine',\n\t\t'type': 'State'\n\t},\n\t'MD': {\n\t\t'name': 'Maryland',\n\t\t'type': 'State'\n\t},\n\t'MA': {\n\t\t'name': 'Massachusetts',\n\t\t'type': 'State'\n\t},\n\t'MI': {\n\t\t'name': 'Michigan',\n\t\t'type': 'State'\n\t},\n\t'MN': {\n\t\t'name': 'Minnesota',\n\t\t'type': 'State'\n\t},\n\t'MS': {\n\t\t'name': 'Mississippi',\n\t\t'type': 'State'\n\t},\n\t'MO': {\n\t\t'name': 'Missouri',\n\t\t'type': 'State'\n\t},\n\t'MT': {\n\t\t'name': 'Montana',\n\t\t'type': 'State'\n\t},\n\t'NE': {\n\t\t'name': 'Nebraska',\n\t\t'type': 'State'\n\t},\n\t'NV': {\n\t\t'name': 'Nevada',\n\t\t'type': 'State'\n\t},\n\t'NH': {\n\t\t'name': 'New Hampshire',\n\t\t'type': 'State'\n\t},\n\t'NJ': {\n\t\t'name': 'New Jersey',\n\t\t'type': 'State'\n\t},\n\t'NM': {\n\t\t'name': 'New Mexico',\n\t\t'type': 'State'\n\t},\n\t'NY': {\n\t\t'name': 'New York',\n\t\t'type': 'State'\n\t},\n\t'NC': {\n\t\t'name': 'North Carolina',\n\t\t'type': 'State'\n\t},\n\t'ND': {\n\t\t'name': 'North Dakota',\n\t\t'type': 'State'\n\t},\n\t'MP': {\n\t\t'name': 'Northern Mariana Islands',\n\t\t'type': 'Commonwealth'\n\t},\n\t'OH': {\n\t\t'name': 'Ohio',\n\t\t'type': 'State'\n\t},\n\t'OK': {\n\t\t'name': 'Oklahoma',\n\t\t'type': 'State'\n\t},\n\t'OR': {\n\t\t'name': 'Oregon',\n\t\t'type': 'State'\n\t},\n\t'PA': {\n\t\t'name': 'Pennsylvania',\n\t\t'type': 'State'\n\t},\n\t'PR': {\n\t\t'name': 'Puerto Rico',\n\t\t'type': 'Commonwealth'\n\t},\n\t'RI': {\n\t\t'name': 'Rhode Island',\n\t\t'type': 'State'\n\t},\n\t'SC': {\n\t\t'name': 'South Carolina',\n\t\t'type': 'State'\n\t},\n\t'SD': {\n\t\t'name': 'South Dakota',\n\t\t'type': 'State'\n\t},\n\t'TN': {\n\t\t'name': 'Tennessee',\n\t\t'type': 'State'\n\t},\n\t'TX': {\n\t\t'name': 'Texas',\n\t\t'type': 'State'\n\t},\n\t'UT': {\n\t\t'name': 'Utah',\n\t\t'type': 'State'\n\t},\n\t'VT': {\n\t\t'name': 'Vermont',\n\t\t'type': 'State'\n\t},\n\t'VI': {\n\t\t'name': 'Virgin Islands',\n\t\t'type': 'Territory'\n\t},\n\t'VA': {\n\t\t'name': 'Virginia',\n\t\t'type': 'State'\n\t},\n\t'WA': {\n\t\t'name': 'Washington',\n\t\t'type': 'State'\n\t},\n\t'WV': {\n\t\t'name': 'West Virginia',\n\t\t'type': 'State'\n\t},\n\t'WI': {\n\t\t'name': 'Wisconsin',\n\t\t'type': 'State'\n\t},\n\t'WY': {\n\t\t'name': 'Wyoming',\n\t\t'type': 'State'\n\t}\n};\n\nvar searchTweaks = [\n\t{\n\t\t'term': ', VA,',\n\t\t'tweak': ' -west+virginia'\n\t},\n\t{\n\t\t'term': 'Virginia,',\n\t\t'tweak': ' -west+virginia'\n\t}\n];\n\nclass DataHandler {\n\tconstructor(placeTypes = {}, states = {}, searchTweaks = []) {\n\t\tthis.places = []\n\t\tthis.state = ''\n\t\tthis.data = []\n\t\tthis.districts = {}\n\t\tthis.placeTypes = placeTypes\n\t\tthis.states = states\n\t\tthis.searchTweaks = searchTweaks\n\t\tthis.errorHandler = new ErrorHandler()\n\t\tthis.formRenderer = new FormRenderer()\n\t\tthis.loaderRenderer = new LoaderRenderer()\n\t\tthis.resultsRenderer = new ResultsRenderer()\n\t}\n\n\tinitFacebook() {\n\t\t$.ajaxSetup({ cache: true });\n\t\t$.getScript('https://connect.facebook.net/en_US/sdk.js', function(){\n\t\t\tFB.init({\n\t\t\t\tappId: '301393976977338',\n\t\t\t\tversion: 'v2.7'\n\t\t\t});     \n\t\t\t$('#loginbutton,#feedbutton').removeAttr('disabled');\n\t\t\t//FB.getLoginStatus(updateStatusCallback);\n\t\t});\n\t}\n\n\tgetLocation() {\n\t\tvar self = this;\n\n\t\tself.loaderRenderer.renderLocationLoader();\n\t\t/*if (navigator.geolocation) {\n\t\t\tnavigator.geolocation.getCurrentPosition(function(position) {\n\t\t\t\tself.formRenderer.renderForm({\n\t\t\t\t\tparent: self,\n\t\t\t\t\tposition: position\n\t\t\t\t});\n\t\t\t\tself.loaderRenderer.clear();\n\t\t\t}, function(error) {\n\t\t\t\tself.loaderRenderer.clear();\n\t\t\t\tself.errorHandler.showError(error);\n\t\t\t});\n\t\t} else {*/\n\t\t\tself.loaderRenderer.clear();\n\t\t\tself.errorHandler.showError({\n\t\t\t\tcode: 'legacy'\n\t\t\t});\n\t\t\tself.formRenderer.renderForm({\n\t\t\t\tparent: self,\n\t\t\t\tstates: self.states\n\t\t\t});\n\t\t//}\n\t}\n\n\tprocessForm($form = {}, position = null) {\n\t\tif (!position) {\n\t\t\tthis.processFallbackForm($form);\n\t\t} else {\n\t\t\tthis.showPosition(position);\n\t\t}\n\t}\n\n\tprocessFallbackForm($form = {}) {\n\t\tvar self = this;\n\t\tvar position;\n\t\tvar address = $form.find('input[name=\"address1\"]').val();\n\t\tvar address2 = $form.find('input[name=\"address2\"]').val();\n\n\t\tif (address2 !== '') {\n\t\t\taddress = `${address},+${address2}`;\n\t\t}\n\t\taddress = `${address},+${$form.find('input[name=\"city\"]').val()}`;\n\t\taddress = `${address},+${$form.find('#state').val()}`;\n\t\taddress = address.replace(/ /g, '_').replace(/\\//g, '_').toLowerCase();\n\n\t\t$.ajax({\n\t\t\turl: `https://maps.googleapis.com/maps/api/geocode/json?address=${address}&key=AIzaSyBO4ShgmmgpAeZfCcu8YYTZZ04i0vxR4DA`\n\t\t}).then(function(data) {\n\t\t\tif (data.status === 'ZERO_RESULTS') {\n\t\t\t\tself.errorHandler.showError('noformresults');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tposition = {\n\t\t\t\tcoords: {\n\t\t\t\t\tlatitude: data.results[0].geometry.location.lat,\n\t\t\t\t\tlongitude: data.results[0].geometry.location.lng\n\t\t\t\t}\n\t\t\t};\n\t\t\tself.showPosition(position);\n\t\t});\n\t}\n\n\tshowPosition(position = {}) {\n\t\tvar self = this;\n\n\t\tself.loaderRenderer.renderDataLoader();\n\t\t$.ajax({\n\t\t\turl: `https://api.geocod.io/v1/reverse?q=${position.coords.latitude},${position.coords.longitude}&fields=stateleg&api_key=cc8e7cb67fc566e98de4fd9b56dbb922788f52f`\n\t\t}).then(function(data) {\n\t\t\tif (data.results[0].fields.state_legislative_districts) {\n\t\t\t\tself.districts = data.results[0].fields.state_legislative_districts;\n\t\t\t}\n\t\t\t$.ajax({\n\t\t\t\turl: `https://maps.googleapis.com/maps/api/geocode/json?latlng=${position.coords.latitude},${position.coords.longitude}&key=AIzaSyBO4ShgmmgpAeZfCcu8YYTZZ04i0vxR4DA`\n\t\t\t}).then(function(data) {\n\t\t\t\tself.data = data;\n\t\t\t\tself.addPlaces();\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPlaceType(placeTypes = {}, result = {}) {\n\t\tvar type;\n\t\tvar types = result.types.reduce(function(acc, cur, i) {\n\t\t\tacc[cur] = cur;\n\t\t\treturn acc;\n\t\t}, {});\n\n\t\tfor (var placeType in placeTypes) {\n\t\t\tif (types[placeType]) {\n\t\t\t\tif ((placeType === 'region') && (result.address_components.length === 1)) {\n\t\t\t\t\ttype = placeTypes['country'];\n\t\t\t\t\ttype.key = 'country';\n\t\t\t\t} else {\n\t\t\t\t\ttype = placeTypes[placeType];\n\t\t\t\t\ttype.key = placeType;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t};\n\t\t}\n\n\t\treturn type;\n\t}\n\n\taddPlaces() {\n\t\tvar result;\n\t\tvar place;\n\t\tvar id;\n\t\tvar label;\n\t\tvar component1;\n\t\tvar component2;\n\t\tvar searchTweak;\n\t\tvar type;\n\t\tvar typeLabel;\n\n\t\tfor (let i = 0; i < this.data.results.length; i++) {\n\t\t\tresult = this.data.results[i];\n\t\t\ttype = this.getPlaceType(this.placeTypes, result);\n\n\t\t\tif (type) {\n\t\t\t\tplace = {};\n\t\t\t\tcomponent1 = result.address_components[type.address_components[0]].long_name;\n\t\t\t\tcomponent2 = '';\n\t\t\t\tid = type.type_label.replace(/ /g, '_').replace(/\\//g, '_' ).toLowerCase();\n\n\t\t\t\tif (type.key === 'political') {\n\t\t\t\t\tid = `${id}_${i}`;\n\t\t\t\t}\n\n\t\t\t\tif ((type.key === 'administrative_area_level_1') && (result.address_components[0].short_name in this.states)) {\n\t\t\t\t\ttypeLabel = states[result.address_components[0].short_name]['type'];\n\t\t\t\t} else {\n\t\t\t\t\ttypeLabel = type.type_label;\n\t\t\t\t}\n\n\t\t\t\t//this.state = result.address_components[type.address_components[1]].long_name;\n\n\t\t\t\tif ((type.key === 'administrative_area_level_1') && \n\t\t\t\t(result.address_components[0].short_name in this.states) && \n\t\t\t\t(states[result.address_components[0].short_name]['type'] === 'State')) {\n\t\t\t\t\tcomponent2 = '+state';\n\t\t\t\t\tthis.state = result.address_components[type.address_components[0]].long_name;\n\t\t\t\t} else if (type.address_components.length > 1) {\n\t\t\t\t\tcomponent2 = `, ${result.address_components[type.address_components[1]].short_name}`;\n\t\t\t\t}\n\t\t\t\tsearchTweak = this.getSearchTweaks(result);\n\t\t\t\tplace = {\n\t\t\t\t\t'id': id,\n\t\t\t\t\t'type_label': typeLabel,\n\t\t\t\t\t'label': component1,\n\t\t\t\t\t'search_string': `${component1}${component2}`,\n\t\t\t\t\t'search_tweak': searchTweak\n\t\t\t\t};\n\t\t\t\tthis.places.push(place);\n\t\t\t}\n\t\t}\n\n\t\t(this.districts['senate'] && (this.state !== '')) ? this.addDistrictPlaces() : this.processPlaces();\n\t}\n\n\taddDistrictPlaces() {\n\t\tvar district;\n\t\tvar type_label;\n\t\tvar place;\n\n\t\tfor (let key in this.districts) {\n\t\t\tdistrict = this.districts[key];\n\t\t\ttype_label = district.name.replace(' ' + district.district_number, '').replace('District', 'Legislative District');\n\t\t\tplace = {\n\t\t\t\t'id': district.name.replace(/ /g, '_').replace(/\\//g, '_').toLowerCase(),\n\t\t\t\t'type_label': type_label,\n\t\t\t\t'label': district.district_number,\n\t\t\t\t'search_string': `${this.state} ${district.name}`\n\t\t\t};\n\t\t\tthis.places.push(place);\n\t\t}\n\n\t\tthis.processPlaces();\n\t}\n\n\tgetSearchTweaks(result = {}) {\n\t\tvar searchTweak;\n\t\tfor (let i = 0; i < this.searchTweaks.length; i++) {\n\t\t\tsearchTweak = this.searchTweaks[i];\n\t\t\tif (result.formatted_address.indexOf(searchTweak.term) > -1) {\n\t\t\t\treturn searchTweak.tweak;\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t}\n\n\tprocessPlaces() {\n\t\tvar place;\n\t\tvar q;\n\t\tvar gQuery = '';\n\t\tvar or = encodeURIComponent(' OR ');\n\n\t\tthis.loaderRenderer.clear();\n\t\tthis.resultsRenderer.renderResultsContainer();\n\t\tfor (let i = 0; i < this.places.length; i++) {\n\t\t\tplace = this.places[i];\n\t\t\tq = encodeURIComponent(`\"${place.search_string}\" democratic organization${place.search_tweak}`);\n\t\t\tgQuery = gQuery + encodeURIComponent(`\"${place.search_string}\"`);\n\n\t\t\tif (i < (this.places.length - 1)) {\n\t\t\t\tgQuery = `${gQuery}${or}`;\n\t\t\t}\n\n\t\t\tthis.getFacebookData(q, this.resultsRenderer.renderFacebookBox);\n\t\t}\n\t\tgQuery = `%28${gQuery}%29%20democratic%20organization`;\n\t\tconsole.log(gQuery);\n\t\tthis.resultsRenderer.renderGoogleBox(gQuery);\n\t}\n\n\tgetFacebookData(q = '', callback = function(){}) {\n\t\tFB.api(\n\t\t\t`/search?q=${q}&type=page&fields=id,name,about,contact_address,description,engagement,general_info,link,phone,single_line_address,website&access_token=301393976977338|o7BuFDcKxXWAL3i9b3T_2jJgfT4`,\n\t\t\tfunction(response) {\n\t\t\t\tcallback(response);\n\t\t\t}\n\t\t);\n\t}\n\n\tinit() {\n\t\tthis.initFacebook();\n\t\tthis.getLocation();\n\t}\n}\n\nclass ErrorHandler {\n\tclear() {\n\t\n\t}\n\n\tshowError(error = {}) {\n\t\tswitch(error.code) {\n\t\t\tcase error.PERMISSION_DENIED:\n\t\t\t\tconsole.log('User denied the request for Geolocation.');\n\t\t\t\tbreak;\n\t\t\tcase error.POSITION_UNAVAILABLE:\n\t\t\t\tconsole.log('Location information is unavailable.');\n\t\t\t\tbreak;\n\t\t\tcase error.TIMEOUT:\n\t\t\t\tconsole.log('The request to get user location timed out.');\n\t\t\t\tbreak;\n\t\t\tcase error.UNKNOWN_ERROR:\n\t\t\t\tconsole.log('An unknown error occurred.');\n\t\t\t\tbreak;\n\t\t\tcase 'legacy':\n\t\t\t\tconsole.log('Geolocation is not supported by this browser.');\n\t\t\t\tbreak;\n\t\t\tcase 'noformresults':\n\t\t\t\tconsole.log('Geolocation is not supported by this browser.');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.log('Yo dawg I heard you like errors, so I put errors in your errors so you can error while you error.');\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nclass FormRenderer {\n\tclear() {\n\t\n\t}\n\n\trenderForm({parent = {}, position = null, states = {}}) {\n\t\t$('.search').append(\n\t\t\t$('<h3/>').text('What We Need To Know'),\n\t\t\t$('<p/>').text('Please fill out these fields to help us get a better sense of what you\\'re looking for.'),\n\t\t\t$('<form/>', {\n\t\t\t\tid: 'search',\n\t\t\t\tname: 'search'\n\t\t\t}).append(\n\t\t\t\t$('<fieldset/>').append(\n\t\t\t\t\t$('<input/>', {\n\t\t\t\t\t\ttype: 'radio',\n\t\t\t\t\t\tid: 'party',\n\t\t\t\t\t\tname: 'party',\n\t\t\t\t\t\tvalue: 'democratic',\n\t\t\t\t\t\trequired: true\n\t\t\t\t\t}),\n\t\t\t\t\t$('<label/>', {\n\t\t\t\t\t\ttext: 'Democrat'\n\t\t\t\t\t}),\n\t\t\t\t\t$('<input/>', {\n\t\t\t\t\t\ttype: 'radio',\n\t\t\t\t\t\tid: 'party',\n\t\t\t\t\t\tname: 'party',\n\t\t\t\t\t\tvalue: 'republican',\n\t\t\t\t\t\trequired: true\n\t\t\t\t\t}),\n\t\t\t\t\t$('<label/>', {\n\t\t\t\t\t\ttext: 'Republican'\n\t\t\t\t\t})\n\t\t\t\t),\n\t\t\t\t$('<input/>', {\n\t\t\t\t\ttype: 'submit',\n\t\t\t\t\tid: 'submit',\n\t\t\t\t\tvalue: 'Submit'\n\t\t\t\t})\n\t\t\t)\n\t\t);\n\n\t\tif (!position) { this.renderFallbackFields(states) };\n\n\t\t$('#search').on('submit', { parent : parent, position : position }, function(e) {\n\t\t\te.preventDefault();\n\t\t\te.data.parent.processForm($(this), e.data.position);\n\t\t});\n\t}\n\n\trenderFallbackFields(states) {\n\t\t$('<p/>', {\n\t\t\ttext: 'We couldn\\'t get your location automatically. Can you please tell us where you are? (We don\\'t keep any personal info)'\n\t\t}).insertBefore('#submit');\n\n\t\t$('<fieldset/>').append(\n\t\t\t$('<input/>', {\n\t\t\t\ttype: 'text',\n\t\t\t\tid: 'address1',\n\t\t\t\tname: 'address1',\n\t\t\t\tplaceholder: 'Street Address, Line 1',\n\t\t\t\trequired: true\n\t\t\t}),\n\t\t\t$('<input/>', {\n\t\t\t\ttype: 'text',\n\t\t\t\tid: 'address2',\n\t\t\t\tname: 'address2',\n\t\t\t\tplaceholder: 'Street Address, Line 2'\n\t\t\t}),\n\t\t\t$('<input/>', {\n\t\t\t\ttype: 'text',\n\t\t\t\tid: 'city',\n\t\t\t\tname: 'city',\n\t\t\t\tplaceholder: 'City/Town',\n\t\t\t\trequired: true\n\t\t\t}),\n\t\t\t$('<select/>', {\n\t\t\t\tid: 'state',\n\t\t\t\tname: 'state',\n\t\t\t\tplaceholder: 'State',\n\t\t\t\trequired: true\n\t\t\t})\n\t\t).insertBefore('#submit');\n\n\t\t$('#state').append(\n\t\t\t$('<option>', {\n\t\t\t\tvalue: '',\n\t\t\t\ttext: 'Select a state/territory',\n\t\t\t\tselected: true\n\t\t\t})\n\t\t);\n\t\t$.each(states, function(key, value) {\n\t\t\t$('#state').append(\n\t\t\t\t$('<option>', {\n\t\t\t\t\tvalue: key,\n\t\t\t\t\ttext: value.name\n\t\t\t\t})\n\t\t\t);\n\t\t});\n\t\t$('#state').change(function(){}).trigger('change');\n\t}\n}\n\nclass LoaderRenderer {\n\tclear() {\n\t\t$('.loader').empty();\n\t}\n\n\trenderLocationLoader() {\n\t\tthis.clear();\n\t\t$('.loader').append(\n\t\t\t$('<img>', {\n\t\t\t\tsrc: '../images/loading_location.gif',\n\t\t\t\talt: 'Loading Location',\n\t\t\t\ttitle: 'Loading Location'\n\t\t\t})\n\t\t);\n\t}\n\n\trenderDataLoader() {\n\t\tthis.clear();\n\t\t$('.loader').append(\n\t\t\t$('<img>', {\n\t\t\t\tsrc: '../images/loading_data.gif',\n\t\t\t\talt: 'Loading Data',\n\t\t\t\ttitle: 'Loading Data'\n\t\t\t})\n\t\t);\n\t}\n}\n\nclass ResultsRenderer {\n\tclear() {\n\t\t$('.results').empty();\n\t}\n\n\trenderResultsContainer() {\n\t\t$('.results').append('<h3>We Found Some Democratic Organizations:</h3>');\n\t\t$('.results').append('<table id=\"results_table\"></table>');\n\t\t$('#results_table').append('<tr id=\"results_row\"></tr>');\n\t\t$('#results_row').append('<td id=\"facebook_results\"></td>');\n\t\t$('#facebook_results').append('<ul id=\"facebook_results_list\"></ul>');\n\t}\n\n\trenderFacebookBox(response = {}) {\n\t\tvar blurb;\n\t\tvar engagement;\n\t\tvar contact;\n\n\t\tif (response && !response.error && response.data.length) {\n\t\t\tfor (let i = 0; i < response.data.length; i++) {\n\t\t\t\tblurb = '';\n\t\t\t\tif (response.data[i].about) {\n\t\t\t\t\tblurb = `<p>${response.data[i].about}</p>`;\n\t\t\t\t} else if (response.data[i].description) {\n\t\t\t\t\tblurb = `<p>${response.data[i].description}</p>`;\n\t\t\t\t} else if (response.data[i].general_info) {\n\t\t\t\t\tblurb = `<p>${response.data[i].general_info}</p>`;\n\t\t\t\t}\n\t\t\t\tengagement = '';\n\t\t\t\tif (response.data[i].engagement) {\n\t\t\t\t\tif (response.data[i].engagement.social_sentence === 'Be the first of your friends to like this.') {\n\t\t\t\t\t\tengagement = '<p>No one likes this Facebook page yet.</p>';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tengagement = `<p>${response.data[i].engagement.social_sentence.slice('.', -1)} Facebook page.</p>`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontact = '';\n\t\t\t\tif (\n\t\t\t\t\t(response.data[i].contact_address) ||\n\t\t\t\t\t(response.data[i].phone) ||\n\t\t\t\t\t(response.data[i].single_line_address) ||\n\t\t\t\t\t(response.data[i].website)\n\t\t\t\t) {\n\t\t\t\t\tcontact = '<p>';\n\t\t\t\t\tif (response.data[i].phone) {\n\t\t\t\t\t\tcontact = `${contact}<span><a href=\"tel:${response.data[i].phone}\">${response.data[i].phone}</span>`;\n\t\t\t\t\t}\n\t\t\t\t\tif (response.data[i].website) {\n\t\t\t\t\t\tcontact = `${contact}<span><a href=\"${response.data[i].website}\" title=\"Website\" target=\"_blank\">Website</a></span>`;\n\t\t\t\t\t}\n\t\t\t\t\tif (response.data[i].contact_address) {\n\t\t\t\t\t\tcontact = `${contact}</p><p translate=\"no\">${response.data[i].contact_address}`;\n\t\t\t\t\t}\n\t\t\t\t\tif (response.data[i].single_line_address) {\n\t\t\t\t\t\tcontact = `${contact}</p><p translate=\"no\">${response.data[i].single_line_address}`;\n\t\t\t\t\t}\n\t\t\t\t\tcontact = `${contact}</p>`;\n\t\t\t\t}\n\t\t\t\t$('#facebook_results_list').append(`<li>\n\t\t\t\t\t<a href=\"${response.data[i].link}\" title=\"${response.data[i].name}\" target=\"_blank\">${response.data[i].name}</a><br>\n\t\t\t\t\t${blurb}\n\t\t\t\t\t${engagement}\n\t\t\t\t\t${contact}\n\t\t\t\t\t</li>`);\n\t\t\t}\n\t\t}\n\t}\n\n\trenderGoogleBox(q = '') {\n\t\t$('#results_row').append(`<td id=\"google_results\"></td>`);\n\t\t$('<iframe>', {\n\t\t\tsrc: `../search.html?q=${q}`,\n\t\t\tid: 'google_results_iframe',\n\t\t\tframeborder: 0,\n\t\t\tscrolling: 'yes'\n\t\t}).appendTo('#google_results');\n\t}\n}\n\n$(document).ready(function() {\n\tdataHandler = new DataHandler(placeTypes = placeTypes, states = states, searchTweaks = searchTweaks);\n\tdataHandler.init();\n});"]}